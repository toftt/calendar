{"version":3,"sources":["snow.js","redux.js","api/api.js","components/TrackCard.js","components/SearchBox.js","components/TitlebarGridList.js","components/SearchDrawer.js","components/Menu.js","components/ShareButton.js","components/TrackModal.js","components/Day.js","components/Calendar.js","components/SubRoot.js","components/ViewRoot.js","api/auth.js","components/Root.js","index.js"],"names":["c","document","getElementById","$","getContext","w","width","documentElement","clientWidth","h","height","clientHeight","snow","arr","tsc","mv","i","Flake","y","Math","random","x","t","PI","sz","sp","pow","push","this","draw","g","createRadialGradient","addColorStop","moveTo","fillStyle","beginPath","arc","fill","go","window","requestAnimationFrame","clearRect","fillRect","length","f","sin","Snowy","addEventListener","defaultState","token","tracks","Array","apply","searchResults","currentlyPlaying","categories","setSearchResults","type","CATEGORY_LIST","Spotify","SpotifyWebApi","setPromiseImplementation","Q","getTracks","query","setAccessToken","searchTracks","limit","startPlayback","json","play","pausePlayback","pause","TrackCard","handleClick","e","stopPropagation","_this$props","_this","props","id","track","then","uris","uri","_this2","_this$props2","classes","theme","date","removeTrack","handleClose","name","artists","playing","react_default","a","createElement","Card_default","className","card","details","CardContent_default","content","Typography_default","component","variant","substr","color","controls","IconButton_default","disabled","aria-label","SkipPrevious_default","onClick","Pause_default","playIcon","PlayArrow_default","SkipNext_default","canRemove","Clear_default","CardMedia_default","cover","image","album","images","url","title","concat","React","Component","connect","_ref","index","trackId","withStyles","display","flexGrow","whiteSpace","textOverflow","flexDirection","flex","flexShrink","alignItems","paddingLeft","spacing","unit","paddingBottom","withTheme","SearchBox","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","onChange","preventDefault","setState","input","target","value","onSubmit","state","data","items","results","List_default","list","ListItem_default","autoComplete","container","FormControl_default","fullWidth","RootRef_default","rootRef","inputRef","Input_default","autoFocus","placeholder","map","key","setTrack","selectedDate","components_TrackCard","search","fontSize","trackIndex","textAlign","getTracksFromCategory","categoryId","getCategoryPlaylists","playlistId","getPlaylistTracks","playlists","playlistItem","slice","TitlebarGridList","getCategories","forEach","item","includes","setCategories","root","GridList_default","cellHeight","gridList","style","GridListTile_default","cols","tile","src","icons","alt","GridListTileBar_default","flexWrap","justifyContent","overflow","backgroundColor","icon","SearchDrawer","Drawer_default","open","onClose","toggleDrawer","paper","drawer","tabIndex","role","components_SearchBox","components_TitlebarGridList","Menu","components_SearchDrawer","status","drawerIsOpen","background","grow","menuButton","marginLeft","marginRight","ShareButton","handleOpen","copyToClipboard","textArea","select","execCommand","focus","Button_default","button","Modal_default","aria-labelledby","aria-describedby","top","left","transform","filter","_window$location","location","origin","pathname","ids","join","getUrl","resize","inputComponent","textarea","readOnly","position","palette","boxShadow","shadows","padding","margin","fontFamily","&:hover","TrackModal","mode","now","Date","getDate","today","getMonth","Day","valid","imageUrl","show","Fragment","backgroundImage","backgroundSize","components_TrackModal","weeks","days","Calendar","week","day","currentTrack","components_Day","addedTracks","r","sort","b","obj","seed_tracks","getRecommendations","res","addRecommendations","components_ShareButton","SubRoot","textInput","current","createRef","components_Menu","components_Calendar","ViewRoot","trackIds","replaceAllTracks","SCOPES","parseHash","hash","substring","split","reduce","initial","parts","decodeURIComponent","getLocalStorageToken","localStorage","getItem","expirationTime","getTime","saveTokenInfo","expiresIn","parseInt","setItem","authorize","access_token","expires_in","URLSearchParams","get","hashState","store","createStore","arguments","undefined","action","console","log","objectSpread","recTracks","shift","dispatch","Root","es","components_ViewRoot","components_SubRoot","ReactDOM","render","components_Root"],"mappings":"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","file":"static/js/main.5f1131e9.chunk.js","sourcesContent":["var c = document.getElementById('canv'), \n    $ = c.getContext(\"2d\");\nvar w = c.width = document.documentElement.clientWidth, \n    h = c.height = document.documentElement.clientHeight;\n\nSnowy();\nfunction Snowy() {\n  var snow, arr = [];\n  var num = 400, tsc = 1, sp = 1; //decreased snow from 600 to 400\n  var sc = 1.3, mv = 20, min = 1; \n    for (var i = 0; i < num; ++i) {\n      snow = new Flake();\n      snow.y = Math.random() * (h + 50);\n      snow.x = Math.random() * w;\n      snow.t = Math.random() * (Math.PI * 2);\n// following two 0.5\n      snow.sz = 0.5*(100 / (10 + (Math.random() * 100))) * sc;  \n      snow.sp = 0.5*(Math.pow(snow.sz * .8, 2) * .15) * sp;\n      snow.sp = snow.sp < min ? min : snow.sp;\n      arr.push(snow);\n    }\n  go();\n  function go(){\n    window.requestAnimationFrame(go);\n      $.clearRect(0, 0, w, h);\n      $.fillStyle = 'hsla(242, 95%, 3%, 0)';\n      $.fillRect(0, 0, w, h);\n      $.fill();\n        for (var i = 0; i < arr.length; ++i) {\n          let f = arr[i];\n          f.t += .05;\n          f.t = f.t >= Math.PI * 2 ? 0 : f.t;\n//following two 0.7\n          f.y += 0.7*f.sp;\n          f.x += 0.7*Math.sin(f.t * tsc) * (f.sz * .3);\n          if (f.y > h + 50) f.y = -10 - Math.random() * mv;\n          if (f.x > w + mv) f.x = - mv;\n          if (f.x < - mv) f.x = w + mv;\n          f.draw();}\n }\n function Flake() {\n   this.draw = function() {\n      this.g = $.createRadialGradient(this.x, this.y, 0, this.x, this.y, this.sz);\n      this.g.addColorStop(0, 'hsla(255,255%,255%,1)');\n      this.g.addColorStop(1, 'hsla(255,255%,255%,0)');\n      $.moveTo(this.x, this.y);\n      $.fillStyle = this.g;\n      $.beginPath();\n      $.arc(this.x, this.y, this.sz, 0, Math.PI * 2, true);\n      $.fill();}\n  }\n}\n/*________________________________________*/\nwindow.addEventListener('resize', function(){\n  c.width = w = document.documentElement.clientWidth;\n  c.height = h = document.documentElement.clientHeight;\n}, false);","const defaultState = {\n  token: null,\n  tracks: Array.apply(null, Array(24)),\n  searchResults: [],\n  currentlyPlaying: null,\n  categories: [],\n};\n\nexport const reducer = (state = defaultState, action) => {\n  console.log(action);\n  switch (action.type) {\n    case 'SET_TOKEN':\n      return {\n        ...state,\n        token: action.token,\n      };\n    case 'SET_TRACK':\n      return {\n        ...state,\n        tracks: state.tracks.map((track, index) => {\n          if (index + 1 !== action.index) return track;\n          else return action.track;\n        }),\n      };\n    case 'REPLACE_ALL_TRACKS':\n      return {\n        ...state,\n        tracks: action.tracks,\n      };\n    case 'ADD_RECOMMENDATIONS':\n      const recTracks = action.tracks;\n      return {\n        ...state,\n        tracks: state.tracks.map((track) => {\n          if (track) return track;\n          else return recTracks.shift();\n        }),\n      };\n    case 'SET_SEARCH_RESULTS':\n      return {\n        ...state,\n        searchResults: action.tracks,\n      };\n    case 'SET_CATEGORIES':\n      return {\n        ...state,\n        categories: action.categories,\n      };\n    case 'REMOVE_TRACK':\n      return {\n        ...state,\n        tracks: state.tracks.map((track, index) => index + 1 === action.index ? null : track),\n      };\n    case 'PLAY':\n      return {\n        ...state,\n        currentlyPlaying: action.trackId,\n      };\n    case 'PAUSE':\n      return {\n        ...state,\n        currentlyPlaying: null,\n      };\n    default:\n      return state\n  }\n};\n\nexport const setToken = (token) => ({\n  type: 'SET_TOKEN',\n  token,\n})\n\nexport const setTrack = (track, index) => ({\n  type: 'SET_TRACK',\n  index,\n  track,\n});\n\nexport const removeTrack = (index) => ({\n  type: 'REMOVE_TRACK',\n  index,\n});\n\nexport const replaceAllTracks = (tracks) => ({\n  type: 'REPLACE_ALL_TRACKS',\n  tracks,\n});\n\nexport const addRecommendations = (tracks) => ({\n  type: 'ADD_RECOMMENDATIONS',\n  tracks,\n});\n\nexport const setSearchResults = (tracks) => ({\n  type: 'SET_SEARCH_RESULTS',\n  tracks,\n});\n\nexport const setCategories = (categories) => ({\n  type: 'SET_CATEGORIES',\n  categories,\n});\n\nexport const play = (trackId) => ({\n  type: 'PLAY',\n  trackId,\n});\n\nexport const pause = () => ({ type: 'PAUSE' });","import SpotifyWebApi from 'spotify-web-api-js';\nimport Q from 'q';\n\nconst CATEGORY_LIST = ['toplists', 'pop', 'hiphop', 'rock', 'workout', 'chill', 'edm_dance', 'mood']\n\nconst Spotify = new SpotifyWebApi();\nSpotify.setPromiseImplementation(Q);\n\n// searching for a track\nexport const getTracks = (token, query) => {\n  Spotify.setAccessToken(token);\n\n  return Spotify\n    .searchTracks(query, { limit: 10 });\n};\n\nexport const getMultipleTracks = (token, ids) => {\n  Spotify.setAccessToken(token);\n  return Spotify.getTracks(ids);\n};\n\nexport const startPlayback = (token, json) => {\n  Spotify.setAccessToken(token);\n\n  return Spotify\n      .play(json);\n};\n\nexport const pausePlayback = (token) => {\n  Spotify.setAccessToken(token);\n\n  return Spotify\n      .pause();\n};\n\nexport const getRecommendations = (token, tracks) => {\n  Spotify.setAccessToken(token);\n\n  const n = 5;\n\n  /*\n  * removes undefined tracks and select 5 tracks randomly because\n  * it is allowed up to 5 seed values\n  * */\n  const addedTracks = tracks.filter(t => t)\n                          .map(x => ({ x, r: Math.random() }))\n                          .sort((a, b) => a.r - b.r)\n                          .map(a => a.x)\n                          .slice(0, n);\n\n  const obj = {\n    seed_tracks: addedTracks.map(t => t.id),\n    limit: 24 - addedTracks.length,\n  };\n\n  return Spotify\n      .getRecommendations(obj);\n};\n\nexport const getCategories = (token) => {\n  Spotify.setAccessToken(token);\n\n  let items = [];\n  return Spotify.getCategories().then((data) => {\n      data.categories.items.forEach((item) => {\n          if (CATEGORY_LIST.includes(item.id)) {\n              items.push(item);\n          }\n      });\n      return items;\n  });\n};\n\nexport const getCategoryPlaylists = (token, categoryId) => {\n  Spotify.setAccessToken(token);\n\n  return Spotify\n      .getCategoryPlaylists(categoryId);\n};\n\nexport const getPlaylistTracks = (token, playlistId) => {\n  Spotify.setAccessToken(token);\n\n  return Spotify\n      .getPlaylistTracks(playlistId);\n}\n\nexport const createPlaylist = (token, json) => {\n    Spotify.setAccessToken(token);\n\n    return Spotify\n        .createPlaylist(json);\n};\n\n/*json -> {\"uris\": [\"spotify:track:4iV5W9uYEdYUVa79Axb7Rh\",\"spotify:track:1301WleyT98MSxVHPZCA6M\"], \"playlist_id\":<playlist_id>} */\nexport const addTrackToPlaylist = (token, playlistId, uris) => {\n    Spotify.setAccessToken(token);\n\n    return Spotify\n        .addTracksToPlaylist(playlistId,uris);\n};\n\nexport const getCurrentUsersPlaylists = (token) => {\n    Spotify.setAccessToken(token);\n\n    return Spotify\n        .getUserPlaylists();\n};","import React from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport IconButton from '@material-ui/core/IconButton';\nimport Typography from '@material-ui/core/Typography';\nimport SkipPreviousIcon from '@material-ui/icons/SkipPrevious';\nimport PlayArrowIcon from '@material-ui/icons/PlayArrow';\nimport PauseIcon from '@material-ui/icons/Pause';\nimport SkipNextIcon from '@material-ui/icons/SkipNext';\nimport ClearIcon from '@material-ui/icons/Clear';\n\nimport { startPlayback, pausePlayback } from '../api/api';\nimport { removeTrack, play, pause } from '../redux';\n\nconst styles = theme => ({\n  card: {\n    display: 'flex',\n    flexGrow: 2,\n    whiteSpace: 'nowrap',\n    textOverflow: 'ellipsis',\n  },\n  details: {\n    display: 'flex',\n    flexDirection: 'column',\n    flexGrow: 2,\n  },\n  content: {\n    flex: '2 0 auto',\n  },\n  cover: {\n    width: 151,\n    flexShrink: 0,\n  },\n  controls: {\n    display: 'flex',\n    alignItems: 'center',\n    paddingLeft: theme.spacing.unit,\n    paddingBottom: theme.spacing.unit,\n  },\n  playIcon: {\n    height: 38,\n    width: 38,\n  },\n});\n\nclass TrackCard extends React.Component {\n\n  handleClick = (e) => {\n    e.stopPropagation();\n\n    const { currentlyPlaying, play, pause, track: { id } } = this.props;\n    if (id === currentlyPlaying) pausePlayback(this.props.token).then(() => pause());\n    else startPlayback(this.props.token, {uris: [this.props.track.uri]}).then(() => play(id));\n  }\n\n  render() {\n    const { classes, theme, track, date, removeTrack, handleClose, currentlyPlaying } = this.props;\n    const { name, artists, id } = track;\n\n    const playing = id === currentlyPlaying;\n    return (\n      <Card className={classes.card}>\n        <div className={classes.details}>\n          <CardContent className={classes.content}>\n            <Typography component=\"h5\" variant=\"h5\">\n              {name.length <= 23 ? name : name.substr(0, 23) + '...'}\n            </Typography>\n            <Typography variant=\"subtitle1\" color=\"textSecondary\">\n              {artists[0].name}\n            </Typography>\n          </CardContent>\n          <div className={classes.controls}>\n            <IconButton disabled aria-label=\"Previous\">\n              <SkipPreviousIcon />\n            </IconButton>\n            <IconButton\n              aria-label=\"Play/pause\"\n              onClick={(e) => this.handleClick(e)}\n            >\n              {\n                playing\n                  ? <PauseIcon className={classes.playIcon}  />\n                  : <PlayArrowIcon className={classes.playIcon} />\n              }\n            </IconButton>\n            <IconButton disabled aria-label=\"Next\">\n              <SkipNextIcon />\n            </IconButton>\n            {\n              !this.props.canRemove\n                ? null\n                : (\n                    <IconButton\n                      aria-label=\"Clear\"\n                      onClick={() => {\n                        handleClose()\n                        removeTrack(date)\n                      }}\n                    >\n                      <ClearIcon />\n                    </IconButton>\n                )\n            }\n          </div>\n        </div>\n        <CardMedia\n          className={classes.cover}\n          image={track.album.images[0].url}\n          title={`${track.album.name} Album Cover`}\n        />\n      </Card>\n    );\n  }\n}\n\nTrackCard.propTypes = {\n  classes: PropTypes.object.isRequired,\n  theme: PropTypes.object.isRequired,\n};\n\nconst mapStateToProps = ({ token, currentlyPlaying }) => ({\n  token,\n  currentlyPlaying,\n});\n\nexport default connect(mapStateToProps, { removeTrack, play, pause })(withStyles(styles, { withTheme: true })(TrackCard));\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport RootRef from '@material-ui/core/RootRef';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport FormControl from '@material-ui/core/FormControl';\nimport Input from '@material-ui/core/Input';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport TrackCard from './TrackCard';\nimport { setTrack, setSearchResults } from '../redux';\nimport { getTracks } from '../api/api';\n\nconst styles = theme => ({\n  card: {\n    display: 'flex',\n    width: '100%',\n  },\n  content: {\n    flex: '1 0 auto',\n  },\n  search: {\n    width: '100%',\n  },\n  container: {\n    display: 'flex',\n    width: 'inherit',\n  },\n  list: {\n    width: '100%',\n  },\n  input: {\n    fontSize: '1.3rem',\n  },\n  trackIndex : {\n    textAlign: 'center',\n  },\n});\n\nclass SearchBox extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      input: '',\n      results: [],\n    }\n  }\n\n  onChange = (e) => {\n    e.preventDefault();\n    this.setState({ input: e.target.value });\n  } \n\n  onSubmit = (e) => {\n    e.preventDefault();\n    const { input } = this.state;  \n    if (!input) this.setState({ input: 'Queen - Bohemian Rhapsody'});\n\n    getTracks(this.props.token, this.state.input).then((data) => {\n      this.props.setSearchResults(data.tracks.items);\n    });\n  }\n\n  render() {\n    const { classes } = this.props;\n\n    return (\n      <div id=\"search_box\">\n        <List className={classes.list}>\n        <ListItem>\n        <form\n          onSubmit={(e) => this.onSubmit(e)}\n          autoComplete=\"off\"\n          className={classes.container}\n        >\n          <FormControl\n            fullWidth\n          >\n            <RootRef rootRef={this.props.inputRef}>\n              <Input\n                autoFocus\n                className={classes.input}\n                value={this.state.input}\n                onChange={(e) => this.onChange(e)}\n                placeholder=\"Search for a track\"\n              />\n            </RootRef>\n          </FormControl>\n          </form>\n        </ListItem>\n        <ListItem></ListItem>\n        {\n          this.props.searchResults.map((track) => (\n            <ListItem\n              key={track.id}\n              onClick={() => this.props.setTrack(track, this.props.selectedDate)}\n            >\n              <TrackCard\n                track={track}\n              />\n            </ListItem>\n          ))\n        }\n        </List>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = ({ token, searchResults }) => {\n  return { token, searchResults };\n};\n\nexport default connect(mapStateToProps, { setTrack, setSearchResults })(withStyles(styles)(SearchBox));","import React from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport GridList from '@material-ui/core/GridList';\nimport GridListTile from '@material-ui/core/GridListTile';\nimport GridListTileBar from '@material-ui/core/GridListTileBar';\n\nimport { getCategories, getCategoryPlaylists, getPlaylistTracks } from '../api/api';\nimport { setSearchResults, setCategories } from '../redux';\n\nconst getTracksFromCategory = (token, categoryId) => {\n  return getCategoryPlaylists(token, categoryId)\n    .then(data => getPlaylistTracks(token, data.playlists.items[0].id))\n    .then(data => data.items.map(playlistItem => playlistItem.track).slice(0, 10));\n};\n\nconst styles = theme => ({\n  root: {\n    display: 'flex',\n    flexWrap: 'wrap',\n    justifyContent: 'space-around',\n    overflow: 'hidden',\n    backgroundColor: 'rgba(0,0,0,0)',\n  },\n  gridList: {\n    width: 500,\n    height: 450,\n  },\n  icon: {\n    color: 'rgba(255, 255, 255, 0.54)',\n  },\n});\n\n\nclass TitlebarGridList extends React.Component {\n  componentWillMount() {\n    getCategories(this.props.token)\n      .then(data => this.props.setCategories(data));\n  }\n\n  render() {\n    const { classes } = this.props;\n\n    return (\n      <div className={classes.root}>\n        <GridList cellHeight={180} className={classes.gridList} style={{ height: 'auto' }}>\n          <GridListTile key=\"Subheader\" cols={2} style={{ height: 'auto' }}>\n          </GridListTile>\n          {this.props.categories.map(tile => (\n            <GridListTile\n              key={tile.id}\n              onClick={() => getTracksFromCategory(this.props.token, tile.id).then(tracks => this.props.setSearchResults(tracks))}\n            >\n              <img src={tile.icons[0].url} alt={tile.name} />\n              <GridListTileBar\n                title={tile.name}\n              />\n            </GridListTile>\n          ))}\n        </GridList>\n      </div>\n    );\n  }\n}\n\nTitlebarGridList.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nconst mapStateToProps = ({ token, categories }) => ({ token, categories });\n\nexport default connect(mapStateToProps, { setSearchResults, setCategories })(withStyles(styles)(TitlebarGridList));\n","import React from 'react';\nimport Drawer from '@material-ui/core/Drawer';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport SearchBox from './SearchBox';\nimport TitlebarGridList from './TitlebarGridList';\n\nconst styles = {\n  drawer: {\n    backgroundColor: 'rgba(255, 255, 255, 0.6)',\n  },\n};\n\nclass SearchDrawer extends React.Component {\n  render() {\n    const { classes } = this.props;\n\n    return (\n      <Drawer\n        open={this.props.open}\n        onClose={() => this.props.toggleDrawer(false)}\n        classes={{paper: classes.drawer}}\n        >\n        <div\n          tabIndex={0}\n          role=\"button\"\n        >\n          <SearchBox\n            inputRef={this.props.inputRef}\n            selectedDate={this.props.selectedDate}\n          />\n          <TitlebarGridList />\n        </div>\n      </Drawer>\n    )\n  }\n}\n\nexport default withStyles(styles)(SearchDrawer);\n","import React from 'react';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport SearchDrawer from './SearchDrawer';\n\nconst styles = {\n  drawer: {\n    background: 'rgba(255, 255, 255, 0.6)',\n  },\n  root: {\n    flexGrow: 1,\n  },\n  grow: {\n    flexGrow: 1,\n  },\n  menuButton: {\n    marginLeft: -12,\n    marginRight: 20,\n    color: 'white',\n  },\n};\n\nclass Menu extends React.Component {\n\n  render() {\n    const { classes } = this.props;\n    return (\n        <div className={classes.root}>\n          <SearchDrawer\n            toggleDrawer={(status) => this.props.toggleDrawer(status)}\n            open={this.props.drawerIsOpen}\n            selectedDate={this.props.selectedDate}\n            inputRef={this.props.inputRef}\n          />\n        </div>\n      );\n  }\n}\n\nexport default withStyles(styles)(Menu);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport Button from '@material-ui/core/Button'\nimport Modal from '@material-ui/core/Modal';\nimport Typography from '@material-ui/core/Typography';\nimport Input from '@material-ui/core/Input';\nimport { withStyles } from '@material-ui/core/styles';\n\nconst styles = theme => ({\n  paper: {\n    position: 'absolute',\n    width: theme.spacing.unit * 50,\n    backgroundColor: theme.palette.background.paper,\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing.unit * 4,\n  },\n  button: {\n    fontSize: '20px',\n    backgroundColor: '#007853',\n    color: 'white',\n    margin:'5px',\n    fontFamily:'Molengo',\n    '&:hover': {\n        backgroundColor: '#007853',\n    },\n  },\n});\n\nfunction getModalStyle() {\n  const top = 50;\n  const left = 50;\n\n  return {\n    top: `${top}%`,\n    left: `${left}%`,\n    transform: `translate(-${top}%, -${left}%)`,\n  };\n}\n\nconst getUrl = (tracks) => {\n  if (tracks.filter(x => x).length !== 24) return 'You need to complete the calendar.';\n\n  const { origin, pathname } = window.location;\n  const ids = tracks.map(track => track.id);\n  return `${origin + pathname}?tracks=${ids.join('_')}`;\n}\n\nclass ShareButton extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { open: false };\n  }\n\n  handleOpen = () => {\n    this.setState({ open: true });\n  };\n\n  handleClose = () => {\n    this.setState({ open: false });\n  };\n\n  copyToClipboard = (e) => {\n    this.textArea.select();\n    document.execCommand('copy');\n    // This is just personal preference.\n    // I prefer to not show the the whole text area selected.\n    e.target.focus();\n  };\n\n  render() {\n    const { classes } = this.props;\n\n    return (\n      <div>\n      <Button\n        onClick={this.handleOpen}\n        className={classes.button}\n        variant=\"outlined\"\n      >\n        Share calendar\n      </Button>\n              <Modal\n              aria-labelledby=\"simple-modal-title\"\n              aria-describedby=\"simple-modal-description\"\n              open={this.state.open}\n              onClose={this.handleClose}\n            >\n              <div style={getModalStyle()} className={classes.paper}>\n                <Typography variant=\"h6\" id=\"modal-title\">\n                <Input\n                  value={getUrl(this.props.tracks)}\n                  style={{width: '100%', overflow: 'hidden', resize: 'none', whiteSpace: 'nowrap'}}\n                  inputComponent=\"textarea\"\n                  inputRef={(textarea) => this.textArea = textarea}\n                  onClick={this.copyToClipboard}\n                  readOnly\n                />\n                </Typography>\n              </div>\n            </Modal>\n        </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  tracks: state.tracks,\n});\n\nexport default connect(mapStateToProps)(withStyles(styles)(ShareButton));","import React from 'react';\nimport Modal from '@material-ui/core/Modal';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport TrackCard from './TrackCard';\n\nfunction getModalStyle() {\n  const top = 50;\n  const left = 50;\n\n  return {\n    top: `${top}%`,\n    left: `${left}%`,\n    transform: `translate(-${top}%, -${left}%)`,\n  };\n}\n\nconst styles = theme => ({\n  paper: {\n    position: 'absolute',\n    width: '600px',\n    backgroundColor: 'rgba(255,255,255,.4)',\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing.unit * 4,\n  },\n});\n\nclass TrackModal extends React.Component {\n  render() {\n    const { classes, open, date, handleClose } = this.props;\n\n    return (\n      <div>\n              <Modal\n              aria-labelledby=\"simple-modal-title\"\n              aria-describedby=\"simple-modal-description\"\n              open={open}\n              onClose={() => handleClose()}\n            >\n              <div style={getModalStyle()} className={classes.paper}>\n                <TrackCard\n                  track={this.props.track}\n                  date={date}\n                  canRemove={this.props.mode === 'edit'}\n                  handleClose={handleClose}\n                />\n              </div>\n            </Modal>\n        </div>\n    );\n  }\n}\n\nexport default withStyles(styles)(TrackModal);","import React from 'react';\n\nimport TrackModal from './TrackModal';\n\nconst now = new Date();\nconst date = now.getDate();\nconst month = now.getMonth();\n\n// use this when deploying\nconst today = month === 11 ? date : 0;\n\nclass Day extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { open: false };\n  }\n\n  handleOpen = () => {\n    this.setState({ open: true });\n  };\n\n  handleClose = () => {\n    this.setState({ open: false });\n  };\n\n  render() {\n    const { date, track, toggleDrawer, mode } = this.props;\n\n    const valid = (track && date <= today) || mode === 'edit';\n    const imageUrl = track && track.album.images[0].url;\n    const show = valid && imageUrl;\n    \n    let onClick = () => {};\n    if (mode === 'edit' && !show) onClick = () => toggleDrawer(true, date);\n    else if (mode === 'edit' && show) onClick = this.handleOpen;\n    else {\n      if (show) onClick = this.handleOpen;\n    }\n\n    return (\n        <React.Fragment>\n        <div\n          className=\"day past\"\n          style={{\n            backgroundImage: `url(${show ? imageUrl : 'http://www.designcouch.com/assets/images/christmaspresent11.svg'})`,\n            backgroundSize: show ? '100% 100%' : '45%',\n          }}\n          onClick={onClick}\n        >\n          <span className=\"date\">\n            {date}\n          </span>\n        </div>\n        <TrackModal\n            open={this.state.open}\n            date={date}\n            mode={this.props.mode}\n            track={track}\n            handleClose={() => this.handleClose()}\n          />\n        </React.Fragment>\n    );\n  }\n}\n\nexport default Day;","import React from 'react';\nimport { connect } from 'react-redux';\nimport Button from '@material-ui/core/Button';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport ShareButton from './ShareButton';\nimport Day from './Day';\n\nimport { getRecommendations } from '../api/api';\nimport { addRecommendations } from '../redux';\n\nconst weeks = [\n  {\n    id: 'one',\n    days: [1,2,3,4,5,6],\n  },\n  {\n    id: 'two',\n    days: [7,8,9,10,11,12],\n  },\n  {\n    id: 'three',\n    days: [13,14,15,16,17,18],\n  },\n  {\n    id: 'four',\n    days: [19,20,21,22,23,24],\n  },\n];\n\nconst styles = {\n  button: {\n    fontSize: '20px',\n    backgroundColor: '#007853',\n    color: 'white',\n    margin:'5px',\n    fontFamily:'Molengo',\n    '&:hover': {\n        backgroundColor: '#007853',\n    },\n  },\n  container: {\n    display: 'flex',\n    justifyContent: 'center',\n    fontSize: '20px',\n  }\n};\n\nclass Calendar extends React.Component {\n  render() {\n    const { classes } = this.props;\n    const toggleDrawer = this.props.toggleDrawer;\n   return (\n  <div id=\"calendar_wrapper\">\n  <h1>Spotify Christmas Calendar</h1>\n<section id=\"calendar\" className=\"collectonme\">\n  {\n    weeks.map((week) => (\n    <div id={week.id} key={week.id} className=\"week\">\n      {\n        week.days.map((day) => {\n          if (day === null) return <div className=\"day noDate\"></div>;\n          else {\n            const currentTrack = this.props.tracks[day - 1];\n            return <Day\n                      date={day}\n                      key={day}\n                      track={currentTrack}\n                      toggleDrawer={toggleDrawer}\n                      mode={this.props.mode}\n                    />\n          }\n        })\n      }\n    </div>\n    ))\n  }\n</section>\n{\n  this.props.mode === 'view'\n    ? null\n    : (\n      <div className={classes.container}>\n        <Button\n          variant=\"outlined\"\n          className={classes.button}\n          onClick={\n          () => getRecommendations(this.props.token, this.props.tracks)\n          .then(res => this.props.addRecommendations(res.tracks))\n          }\n        >\n          Recommended autofill\n        </Button>\n        <ShareButton />\n      </div>\n    )\n}\n<div id=\"bottom\" className=\"collectonme\"></div>\n</div>\n);\n  }\n}\n\nconst mapStateToProps = ({ tracks, token }) => ({\n  token,\n  tracks,\n});\n\nexport default connect(mapStateToProps, {addRecommendations})(withStyles(styles)(Calendar));","import React from 'react';\n\nimport Menu from './Menu';\nimport Calendar from './Calendar';\n\nclass SubRoot extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      drawerIsOpen: false,\n      selectedDate: 1,\n    };\n    this.textInput = React.createRef();\n  }\n\n  toggleDrawer = (status, selectedDate) => {\n    this.setState({\n      drawerIsOpen: status,\n      selectedDate,\n    }, () => { if (status === true && this.textInput.current) this.textInput.current.focus() })\n  };\n  \n  render() {\n    return (\n      <React.Fragment>\n        <div id=\"bg-image\" />\n        <Menu\n          toggleDrawer={(e) => this.toggleDrawer(e)}\n          drawerIsOpen={this.state.drawerIsOpen}\n          inputRef={this.textInput}\n          selectedDate={this.state.selectedDate}\n        />\n        <Calendar\n          toggleDrawer={(status, date) => this.toggleDrawer(status, date)}\n          mode=\"edit\"\n        />\n      </React.Fragment>\n    );\n  }\n}\n\nexport default SubRoot;","import React from 'react';\nimport { connect } from 'react-redux';\n\nimport Calendar from './Calendar';\n\nimport { getMultipleTracks } from '../api/api';\nimport { replaceAllTracks } from '../redux';\n\n//this is for the shared view\nclass ViewRoot extends React.Component {\n\n  componentWillMount() {\n    getMultipleTracks(this.props.token, this.props.trackIds)\n      .then(data => this.props.replaceAllTracks(data.tracks));\n  }\n\n  render() {\n\n    return (\n      <React.Fragment>\n        <div id=\"bg-image\" />\n        <Calendar\n          toggleDrawer={(status, date) => {}}\n          mode=\"view\"\n        />\n      </React.Fragment>\n    );\n  }\n}\n\nconst mapStateToProps = ({ token }) => ({\n  token,\n});\n\nexport default connect(mapStateToProps, { replaceAllTracks })(ViewRoot);","const AUTH_ENDPOINT = 'https://accounts.spotify.com/authorize';\nconst CLIENT_ID = 'de8a7d941d164ea4854a21ebaca90c71';\nconst REDIRECT_URI = 'https://toftt.github.io/calendar/';\nconst SCOPES = [\n  'user-top-read',\n  'user-modify-playback-state'\n];\n\n// Get the hash of the url\nconst authorize = () => {\n  const hash = parseHash();\n  let token = hash.access_token;\n\n  if (token) saveTokenInfo(token, hash.expires_in);\n  else token = getLocalStorageToken();\n\n  const urlParams = new URLSearchParams(window.location.search);\n  const tracks = urlParams.get('tracks');\n  const state = tracks;\n\n\n  // If there is no token, redirect to Spotify authorization\n  if (!token) {\n    window.location = `${AUTH_ENDPOINT}?client_id=${CLIENT_ID}&redirect_uri=${REDIRECT_URI}&scope=${SCOPES.join('%20')}&response_type=token&show_dialog=true&state=${state}`;\n  }\n\n  // case 1: user is in view mode and has been redirected from spotify -- tracks are in hash.state (the url hash)\n  // case 2: user is in view mode and has already authorized -- tracks are in tracks (params)\n  // case 3: user is in edit mode and has already authorized -- there are no tracks\n  const hashState = hash.state || tracks || 'null';\n\n  return ({ token, hashState});\n}\n\nconst parseHash = () => {\n  const hash = window.location.hash\n    .substring(1)\n    .split('&')\n    .reduce(function (initial, item) {\n      if (item) {\n        var parts = item.split('=');\n        initial[parts[0]] = decodeURIComponent(parts[1]);\n      }\n      return initial;\n    }, {});\n  \n  window.location.hash = '';\n\n  return hash;\n}\n\nconst getLocalStorageToken = () => {\n  const token = localStorage.getItem('token');\n  const expirationTime = localStorage.getItem('expirationTime');\n  const now = new Date();\n\n  if (!token || now.getTime() > expirationTime) return undefined;\n  return token;\n};\n\nconst saveTokenInfo = (token, expiresIn) => {\n  const now = new Date();\n  const expirationTime = now.getTime() + parseInt(expiresIn) * 1000;\n\n  localStorage.setItem('token', token);\n  localStorage.setItem('expirationTime', expirationTime);\n}\n\nexport default authorize;","import React, { Component } from 'react';\nimport { Provider } from 'react-redux'\nimport { createStore } from 'redux'\nimport { reducer, setToken } from '../redux'\n\nimport SubRoot from './SubRoot';\nimport ViewRoot from './ViewRoot';\n\nimport authorize from '../api/auth';\n\nconst store = createStore(reducer);\nconst { token, hashState } = authorize();\n\nstore.dispatch(setToken(token));\n\nclass Root extends Component {\n  render() {\n    if (hashState !== 'null') {\n      return (\n      <Provider store={store}>\n        <ViewRoot trackIds={hashState.split('_')} />\n      </Provider>\n      );\n    }\n    return (\n      <Provider store={store}>\n        <SubRoot />\n      </Provider>\n    );\n  }\n}\n\nexport default Root;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './global.css';\nimport './css/calendar.scss';\nimport './snow';\n\nimport Root from './components/Root';\n\nReactDOM.render(<Root />, document.getElementById('root'));\n"],"sourceRoot":""}