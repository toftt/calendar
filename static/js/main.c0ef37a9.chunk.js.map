{"version":3,"sources":["snow.js","redux.js","api/api.js","components/TrackCard.js","components/SearchBox.js","components/TitlebarGridList.js","components/SearchDrawer.js","components/Menu.js","components/ShareButton.js","components/TrackModal.js","components/Day.js","components/Calendar.js","components/SubRoot.js","components/ViewRoot.js","api/auth.js","components/Root.js","index.js"],"names":["c","document","getElementById","$","getContext","w","width","documentElement","clientWidth","h","height","clientHeight","snow","arr","tsc","mv","i","Flake","y","Math","random","x","t","PI","sz","sp","pow","push","this","draw","g","createRadialGradient","addColorStop","moveTo","fillStyle","beginPath","arc","fill","go","window","requestAnimationFrame","clearRect","fillRect","length","f","sin","Snowy","addEventListener","defaultState","token","tracks","Array","apply","CATEGORY_LIST","Spotify","SpotifyWebApi","setPromiseImplementation","Q","getTracks","query","setAccessToken","searchTracks","limit","startPlayback","json","play","pausePlayback","pause","TrackCard","props","_this","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","handleClick","e","state","playing","uris","track","uri","then","setState","_this2","_this$props","classes","theme","name","artists","react_default","a","createElement","Card_default","className","card","details","CardContent_default","content","Typography_default","component","variant","substr","color","controls","IconButton_default","aria-label","direction","SkipNext_default","SkipPrevious_default","onClick","PlayArrow_default","playIcon","CardMedia_default","cover","image","album","images","url","title","React","Component","connect","_ref","withStyles","display","flexGrow","whiteSpace","textOverflow","flexDirection","flex","flexShrink","alignItems","paddingLeft","spacing","unit","paddingBottom","withTheme","SearchBox","onChange","preventDefault","input","target","value","onSubmit","data","results","items","id","List_default","list","ListItem_default","autoComplete","container","FormControl_default","fullWidth","RootRef_default","rootRef","inputRef","Input_default","autoFocus","placeholder","map","key","setTrack","selectedDate","components_TrackCard","index","type","search","fontSize","trackIndex","textAlign","TitlebarGridList","categories","getCategories","forEach","item","includes","root","GridList_default","cellHeight","gridList","GridListTile_default","cols","style","tile","src","icons","alt","GridListTileBar_default","flexWrap","justifyContent","overflow","backgroundColor","icon","SearchDrawer","Drawer_default","open","onClose","toggleDrawer","paper","drawer","tabIndex","role","components_SearchBox","components_TitlebarGridList","Menu","components_SearchDrawer","status","drawerIsOpen","background","grow","menuButton","marginLeft","marginRight","ShareButton","handleOpen","handleClose","copyToClipboard","textArea","select","execCommand","focus","Button_default","button","Modal_default","aria-labelledby","aria-describedby","top","concat","left","transform","filter","origin","location","ids","join","getUrl","resize","inputComponent","textarea","readOnly","position","palette","boxShadow","shadows","padding","TrackModal","now","Date","date","getDate","today","getMonth","Day","console","log","mode","valid","imageUrl","show","Fragment","backgroundImage","backgroundSize","components_TrackModal","weeks","days","Calendar","week","day","currentTrack","components_Day","addedTracks","obj","seed_tracks","getRecommendations","res","addRecommendations","components_ShareButton","SubRoot","textInput","current","createRef","components_Menu","components_Calendar","ViewRoot","trackIds","replaceAllTracks","getLocalStorageToken","localStorage","getItem","expirationTime","getTime","saveTokenInfo","expiresIn","setItem","authorize","hash","substring","split","reduce","initial","parts","decodeURIComponent","_token","access_token","URLSearchParams","get","hashState","expires_in","store","createStore","arguments","undefined","action","objectSpread","recTracks","shift","dispatch","setToken","Root","es","components_ViewRoot","components_SubRoot","ReactDOM","render","components_Root"],"mappings":"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","file":"static/js/main.c0ef37a9.chunk.js","sourcesContent":["var c = document.getElementById('canv'), \n    $ = c.getContext(\"2d\");\nvar w = c.width = document.documentElement.clientWidth, \n    h = c.height = document.documentElement.clientHeight;\n\nSnowy();\nfunction Snowy() {\n  var snow, arr = [];\n  var num = 400, tsc = 1, sp = 1; //decreased snow from 600 to 400\n  var sc = 1.3, mv = 20, min = 1; \n    for (var i = 0; i < num; ++i) {\n      snow = new Flake();\n      snow.y = Math.random() * (h + 50);\n      snow.x = Math.random() * w;\n      snow.t = Math.random() * (Math.PI * 2);\n// following two 0.5\n      snow.sz = 0.5*(100 / (10 + (Math.random() * 100))) * sc;  \n      snow.sp = 0.5*(Math.pow(snow.sz * .8, 2) * .15) * sp;\n      snow.sp = snow.sp < min ? min : snow.sp;\n      arr.push(snow);\n    }\n  go();\n  function go(){\n    window.requestAnimationFrame(go);\n      $.clearRect(0, 0, w, h);\n      $.fillStyle = 'hsla(242, 95%, 3%, 0)';\n      $.fillRect(0, 0, w, h);\n      $.fill();\n        for (var i = 0; i < arr.length; ++i) {\n          let f = arr[i];\n          f.t += .05;\n          f.t = f.t >= Math.PI * 2 ? 0 : f.t;\n//following two 0.7\n          f.y += 0.7*f.sp;\n          f.x += 0.7*Math.sin(f.t * tsc) * (f.sz * .3);\n          if (f.y > h + 50) f.y = -10 - Math.random() * mv;\n          if (f.x > w + mv) f.x = - mv;\n          if (f.x < - mv) f.x = w + mv;\n          f.draw();}\n }\n function Flake() {\n   this.draw = function() {\n      this.g = $.createRadialGradient(this.x, this.y, 0, this.x, this.y, this.sz);\n      this.g.addColorStop(0, 'hsla(255,255%,255%,1)');\n      this.g.addColorStop(1, 'hsla(255,255%,255%,0)');\n      $.moveTo(this.x, this.y);\n      $.fillStyle = this.g;\n      $.beginPath();\n      $.arc(this.x, this.y, this.sz, 0, Math.PI * 2, true);\n      $.fill();}\n  }\n}\n/*________________________________________*/\nwindow.addEventListener('resize', function(){\n  c.width = w = document.documentElement.clientWidth;\n  c.height = h = document.documentElement.clientHeight;\n}, false);","const defaultState = {\n  token: null,\n  tracks: Array.apply(null, Array(24)),\n};\n\nexport const reducer = (state = defaultState, action) => {\n  switch (action.type) {\n    case 'SET_TOKEN':\n      return {\n        ...state,\n        token: action.token,\n      };\n    case 'SET_TRACK':\n      return {\n        ...state,\n        tracks: state.tracks.map((track, index) => {\n          if (index + 1 !== action.index) return track;\n          else return action.track;\n        }),\n      };\n    case 'REPLACE_ALL_TRACKS':\n      return {\n        ...state,\n        tracks: action.tracks,\n      };\n    case 'ADD_RECOMMENDATIONS':\n      const recTracks = action.tracks;\n      return {\n        ...state,\n        tracks: state.tracks.map((track) => {\n          if (track) return track;\n          else return recTracks.shift();\n        }),\n      };\n    default:\n      return state\n  }\n};\n\nexport const setToken = (token) => ({\n  type: 'SET_TOKEN',\n  token,\n})\n\nexport const setTrack = (track, index) => ({\n  type: 'SET_TRACK',\n  index,\n  track,\n});\n\nexport const replaceAllTracks = (tracks) => ({\n  type: 'REPLACE_ALL_TRACKS',\n  tracks,\n});\n\nexport const addRecommendations = (tracks) => ({\n  type: 'ADD_RECOMMENDATIONS',\n  tracks,\n});","import SpotifyWebApi from 'spotify-web-api-js';\nimport Q from 'q';\n\nconst CATEGORY_LIST = ['toplists', 'pop', 'hiphop', 'rock', 'workout', 'chill', 'edm_dance', 'mood']\n\nconst Spotify = new SpotifyWebApi();\nSpotify.setPromiseImplementation(Q);\n\n// searching for a track\nexport const getTracks = (token, query) => {\n  Spotify.setAccessToken(token);\n  \n  return Spotify\n    .searchTracks(query, { limit: 10 });\n};\n\nexport const getMultipleTracks = (token, ids) => {\n  Spotify.setAccessToken(token);\n  return Spotify.getTracks(ids);\n};\n\nexport const startPlayback = (token, json) => {\n  Spotify.setAccessToken(token);\n\n  return Spotify\n      .play(json);\n};\n\nexport const pausePlayback = (token) => {\n  Spotify.setAccessToken(token);\n\n  return Spotify\n      .pause();\n};\n\nexport const getRecommendations = (token, tracks) => {\n  Spotify.setAccessToken(token);\n\n  // removes undefined tracks\n  const addedTracks = tracks.filter(t => t);\n\n  const obj = {\n    seed_tracks: addedTracks.map(t => t.id),\n    limit: 24 - addedTracks.length,\n  };\n\n  return Spotify\n      .getRecommendations(obj);\n};\n\nexport const getCategories = (token) => {\n  Spotify.setAccessToken(token);\n\n  let items = []\n  return Spotify.getCategories().then((data) => {\n      data.categories.items.forEach((item) => {\n          if (CATEGORY_LIST.includes(item.id)) {\n              items.push(item);\n          }\n      });\n      return items;\n  });\n};\n\nexport const getCategoryPlaylists = (token, categoryId) => {\n  Spotify.setAccessToken(token);\n\n  return Spotify\n      .getCategoryPlaylists(categoryId);\n};","import React from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport IconButton from '@material-ui/core/IconButton';\nimport Typography from '@material-ui/core/Typography';\nimport SkipPreviousIcon from '@material-ui/icons/SkipPrevious';\nimport PlayArrowIcon from '@material-ui/icons/PlayArrow';\nimport SkipNextIcon from '@material-ui/icons/SkipNext';\n\nimport { startPlayback, pausePlayback } from '../api/api';\n\nconst styles = theme => ({\n  card: {\n    display: 'flex',\n    flexGrow: 2,\n    whiteSpace: 'nowrap',\n    textOverflow: 'ellipsis',\n  },\n  details: {\n    display: 'flex',\n    flexDirection: 'column',\n    flexGrow: 2,\n  },\n  content: {\n    flex: '2 0 auto',\n  },\n  cover: {\n    width: 151,\n    flexShrink: 0,\n  },\n  controls: {\n    display: 'flex',\n    alignItems: 'center',\n    paddingLeft: theme.spacing.unit,\n    paddingBottom: theme.spacing.unit,\n  },\n  playIcon: {\n    height: 38,\n    width: 38,\n  },\n});\n\nclass TrackCard extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { playing: false }\n  }\n\n\n  handleClick = (e) => {\n    if (this.state.playing === false) startPlayback(this.props.token, {uris: [this.props.track.uri]})\n      .then(x => this.setState({ playing: true }));\n    else pausePlayback(this.props.token).then(() => this.setState({ playing: false }));\n  }\n\n  render() {\n    const { classes, theme, track } = this.props;\n    const { name, artists } = track;\n\n    return (\n      <Card className={classes.card}>\n        <div className={classes.details}>\n          <CardContent className={classes.content}>\n            <Typography component=\"h5\" variant=\"h5\">\n              {name.length <= 23 ? name : name.substr(0, 23) + '...'}\n            </Typography>\n            <Typography variant=\"subtitle1\" color=\"textSecondary\">\n              {artists[0].name}\n            </Typography>\n          </CardContent>\n          <div className={classes.controls}>\n            <IconButton aria-label=\"Previous\">\n              {theme.direction === 'rtl' ? <SkipNextIcon /> : <SkipPreviousIcon />}\n            </IconButton>\n            <IconButton\n              aria-label=\"Play/pause\"\n              onClick={() => this.handleClick()}\n            >\n              <PlayArrowIcon className={classes.playIcon} />\n            </IconButton>\n            <IconButton aria-label=\"Next\">\n              {theme.direction === 'rtl' ? <SkipPreviousIcon /> : <SkipNextIcon />}\n            </IconButton>\n          </div>\n        </div>\n        <CardMedia\n          className={classes.cover}\n          image={track.album.images[0].url}\n          title=\"Live from space album cover\"\n        />\n      </Card>\n    );\n  }\n}\n\nTrackCard.propTypes = {\n  classes: PropTypes.object.isRequired,\n  theme: PropTypes.object.isRequired,\n};\n\nconst mapStateToProps = ({ token }) => ({\n  token,\n});\n\nexport default connect(mapStateToProps)(withStyles(styles, { withTheme: true })(TrackCard));\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport RootRef from '@material-ui/core/RootRef';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport FormControl from '@material-ui/core/FormControl';\nimport Input from '@material-ui/core/Input';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport TrackCard from './TrackCard';\nimport { setTrack } from '../redux';\nimport { getTracks } from '../api/api';\n\nconst styles = theme => ({\n  card: {\n    display: 'flex',\n    width: '100%',\n  },\n  content: {\n    flex: '1 0 auto',\n  },\n  search: {\n    width: '100%',\n  },\n  container: {\n    display: 'flex',\n    width: 'inherit',\n  },\n  list: {\n    width: '100%',\n  },\n  input: {\n    fontSize: '1.3rem',\n  },\n  trackIndex : {\n    textAlign: 'center',\n  },\n});\n\nclass SearchBox extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      input: '',\n      results: [],\n    }\n  }\n\n  onChange = (e) => {\n    e.preventDefault();\n    this.setState({ input: e.target.value });\n  } \n\n  onSubmit = (e) => {\n    e.preventDefault();\n    const { input } = this.state;  \n    if (!input) this.setState({ input: 'Queen - Bohemian Rhapsody'});\n\n    getTracks(this.props.token, this.state.input).then((data) => {\n      this.setState({ results: data.tracks.items });\n    });\n  }\n\n  render() {\n    const { classes } = this.props;\n\n    return (\n      <div id=\"search_box\">\n        <List className={classes.list}>\n        <ListItem>\n        <form\n          onSubmit={(e) => this.onSubmit(e)}\n          autoComplete=\"off\"\n          className={classes.container}\n        >\n          <FormControl\n            fullWidth\n          >\n            <RootRef rootRef={this.props.inputRef}>\n              <Input\n                autoFocus\n                className={classes.input}\n                value={this.state.input}\n                onChange={(e) => this.onChange(e)}\n                placeholder=\"Search for a track\"\n              />\n            </RootRef>\n          </FormControl>\n          </form>\n        </ListItem>\n        <ListItem></ListItem>\n        {\n          this.state.results.map((track) => (\n            <ListItem\n              key={track.id}\n              onClick={() => this.props.setTrack(track, this.props.selectedDate)}\n            >\n              <TrackCard\n                track={track}\n              />\n            </ListItem>\n          ))\n        }\n        </List>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = ({ token }) => {\n  return { token };\n};\n\nexport default connect(mapStateToProps, { setTrack })(withStyles(styles)(SearchBox));","import React from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport GridList from '@material-ui/core/GridList';\nimport GridListTile from '@material-ui/core/GridListTile';\nimport GridListTileBar from '@material-ui/core/GridListTileBar';\n\nimport { getCategories } from '../api/api';\n\nconst styles = theme => ({\n  root: {\n    display: 'flex',\n    flexWrap: 'wrap',\n    justifyContent: 'space-around',\n    overflow: 'hidden',\n    backgroundColor: 'rgba(0,0,0,0)',\n  },\n  gridList: {\n    width: 500,\n    height: 450,\n  },\n  icon: {\n    color: 'rgba(255, 255, 255, 0.54)',\n  },\n});\n\n \nclass TitlebarGridList extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { categories: [] };\n  }\n\n\n  componentWillMount() {\n    getCategories(this.props.token)\n      .then(data => this.setState({ categories: data }));\n  }\n\n  render() {\n    const { classes } = this.props;\n\n    return (\n      <div className={classes.root}>\n        <GridList cellHeight={180} className={classes.gridList}>\n          <GridListTile key=\"Subheader\" cols={2} style={{ height: 'auto' }}>\n          </GridListTile>\n          {this.state.categories.map(tile => (\n            <GridListTile key={tile.id}>\n              <img src={tile.icons[0].url} alt={tile.name} />\n              <GridListTileBar\n                title={tile.name}\n              />\n            </GridListTile>\n          ))}\n        </GridList>\n      </div>\n    );\n  }\n}\n\nTitlebarGridList.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nconst mapStateToProps = ({token}) => ({token});\n\nexport default connect(mapStateToProps)(withStyles(styles)(TitlebarGridList));\n","import React from 'react';\nimport Drawer from '@material-ui/core/Drawer';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport SearchBox from './SearchBox';\nimport TitlebarGridList from './TitlebarGridList';\n\nconst styles = {\n  drawer: {\n    backgroundColor: 'rgba(255, 255, 255, 0.6)',\n  },\n};\n\nclass SearchDrawer extends React.Component {\n  render() {\n    const { classes } = this.props;\n\n    return (\n      <Drawer\n        open={this.props.open}\n        onClose={() => this.props.toggleDrawer(false)}\n        classes={{paper: classes.drawer}}\n        >\n        <div\n          tabIndex={0}\n          role=\"button\"\n        >\n          <SearchBox\n            inputRef={this.props.inputRef}\n            selectedDate={this.props.selectedDate}\n          />\n          <TitlebarGridList />\n        </div>\n      </Drawer>\n    )\n  }\n}\n\nexport default withStyles(styles)(SearchDrawer);\n","import React from 'react';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport SearchDrawer from './SearchDrawer';\n\nconst styles = {\n  drawer: {\n    background: 'rgba(255, 255, 255, 0.6)',\n  },\n  root: {\n    flexGrow: 1,\n  },\n  grow: {\n    flexGrow: 1,\n  },\n  menuButton: {\n    marginLeft: -12,\n    marginRight: 20,\n    color: 'white',\n  },\n};\n\nclass Menu extends React.Component {\n\n  render() {\n    const { classes } = this.props;\n    return (\n        <div className={classes.root}>\n          <SearchDrawer\n            toggleDrawer={(status) => this.props.toggleDrawer(status)}\n            open={this.props.drawerIsOpen}\n            selectedDate={this.props.selectedDate}\n            inputRef={this.props.inputRef}\n          />\n        </div>\n      );\n  }\n}\n\nexport default withStyles(styles)(Menu);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport Button from '@material-ui/core/Button'\nimport Modal from '@material-ui/core/Modal';\nimport Typography from '@material-ui/core/Typography';\nimport Input from '@material-ui/core/Input';\nimport { withStyles } from '@material-ui/core/styles';\n\nconst styles = theme => ({\n  paper: {\n    position: 'absolute',\n    width: theme.spacing.unit * 50,\n    backgroundColor: theme.palette.background.paper,\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing.unit * 4,\n  },\n  button: {\n    fontSize: '20px',\n  },\n});\n\nfunction getModalStyle() {\n  const top = 50;\n  const left = 50;\n\n  return {\n    top: `${top}%`,\n    left: `${left}%`,\n    transform: `translate(-${top}%, -${left}%)`,\n  };\n}\n\nconst getUrl = (tracks) => {\n  if (tracks.filter(x => x).length !== 24) return 'You need to complete the calendar.';\n\n  const origin = window.location.origin;\n  const ids = tracks.map(track => track.id);\n  return `${origin}?tracks=${ids.join('_')}`;\n} \n\nclass ShareButton extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { open: false };\n  }\n\n  handleOpen = () => {\n    this.setState({ open: true });\n  };\n\n  handleClose = () => {\n    this.setState({ open: false });\n  };\n\n  copyToClipboard = (e) => {\n    this.textArea.select();\n    document.execCommand('copy');\n    // This is just personal preference.\n    // I prefer to not show the the whole text area selected.\n    e.target.focus();\n  };\n\n  render() {\n    const { classes } = this.props;\n\n    return (\n      <div>\n      <Button\n        onClick={this.handleOpen}\n        className={classes.button}\n        variant=\"outlined\"\n      >\n        Share calendar\n      </Button>\n              <Modal\n              aria-labelledby=\"simple-modal-title\"\n              aria-describedby=\"simple-modal-description\"\n              open={this.state.open}\n              onClose={this.handleClose}\n            >\n              <div style={getModalStyle()} className={classes.paper}>\n                <Typography variant=\"h6\" id=\"modal-title\">\n                <Input\n                  value={getUrl(this.props.tracks)}\n                  style={{width: '100%', overflow: 'hidden', resize: 'none', whiteSpace: 'nowrap'}}\n                  inputComponent=\"textarea\"\n                  inputRef={(textarea) => this.textArea = textarea}\n                  onClick={this.copyToClipboard}\n                  readOnly\n                />\n                </Typography>\n              </div>\n            </Modal>\n        </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  tracks: state.tracks,\n});\n\nexport default connect(mapStateToProps)(withStyles(styles)(ShareButton));","import React from 'react';\nimport Modal from '@material-ui/core/Modal';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport TrackCard from './TrackCard';\n\nfunction getModalStyle() {\n  const top = 50;\n  const left = 50;\n\n  return {\n    top: `${top}%`,\n    left: `${left}%`,\n    transform: `translate(-${top}%, -${left}%)`,\n  };\n}\n\nconst styles = theme => ({\n  paper: {\n    position: 'absolute',\n    width: '600px',\n    backgroundColor: 'rgba(255,255,255,.4)',\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing.unit * 4,\n  },\n});\n\nclass TrackModal extends React.Component {\n  render() {\n    const { classes, open, handleClose } = this.props;\n\n    return (\n      <div>\n              <Modal\n              aria-labelledby=\"simple-modal-title\"\n              aria-describedby=\"simple-modal-description\"\n              open={open}\n              onClose={() => handleClose()}\n            >\n              <div style={getModalStyle()} className={classes.paper}>\n                <TrackCard track={this.props.track} />\n              </div>\n            </Modal>\n        </div>\n    );\n  }\n}\n\nexport default withStyles(styles)(TrackModal);","import React from 'react';\n\nimport TrackModal from './TrackModal';\n\nconst now = new Date();\nconst date = now.getDate();\nconst month = now.getMonth();\n\n//const today = 20;\n\n// use this when deploying\nconst today = month === 11 ? date : 0; \n\nclass Day extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { open: false };\n  }\n\n  handleOpen = () => {\n    this.setState({ open: true });\n  };\n\n  handleClose = () => {\n    console.log(this.state);\n    this.setState({ open: false });\n  };\n\n  render() {\n    const { date, track, toggleDrawer, mode } = this.props;\n\n    const valid = (track && date <= today) || mode === 'edit';\n    const imageUrl = track && track.album.images[0].url;\n    const show = valid && imageUrl;\n    \n    let onClick = () => {};\n    if (mode === 'edit' && !show) onClick = () => toggleDrawer(true, date);\n    else if (mode === 'edit' && show) onClick = this.handleOpen;\n    else {\n      if (show) onClick = this.handleOpen;\n    }\n\n    return (\n        <React.Fragment>\n        <div\n          className=\"day past\"\n          style={{\n            backgroundImage: `url(${show ? imageUrl : 'http://www.designcouch.com/assets/images/christmaspresent11.svg'})`,\n            backgroundSize: show ? '100% 100%' : '45%',\n          }}\n          onClick={onClick}\n        >\n          <span className=\"date\">\n            {date}\n          </span>\n        </div>\n        <TrackModal\n            open={this.state.open}\n            track={track}\n            handleClose={() => this.handleClose()}\n          />\n        </React.Fragment>\n    );\n  }\n}\n\nexport default Day;","import React from 'react';\nimport { connect } from 'react-redux';\nimport Button from '@material-ui/core/Button';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport ShareButton from './ShareButton';\nimport Day from './Day';\n\nimport { getRecommendations } from '../api/api';\nimport { addRecommendations } from '../redux';\n\nconst weeks = [\n  {\n    id: 'one',\n    days: [1,2,3,4,5,6],\n  },\n  {\n    id: 'two',\n    days: [7,8,9,10,11,12],\n  },\n  {\n    id: 'three',\n    days: [13,14,15,16,17,18],\n  },\n  {\n    id: 'four',\n    days: [19,20,21,22,23,24],\n  },\n];\n\nconst styles = {\n  button: {\n    fontSize: '20px',\n  },\n  container: {\n    display: 'flex',\n    justifyContent: 'center',\n    fontSize: '20px',\n  }\n};\n\nclass Calendar extends React.Component {\n  render() {\n    const { classes } = this.props;\n    const toggleDrawer = this.props.toggleDrawer;\n   return (\n  <div id=\"calendar_wrapper\">\n  <h1>Spotify Christmas Calendar</h1>\n<section id=\"calendar\" className=\"collectonme\">\n  {\n    weeks.map((week) => (\n    <div id={week.id} key={week.id} className=\"week\">\n      {\n        week.days.map((day) => {\n          if (day === null) return <div className=\"day noDate\"></div>;\n          else {\n            const currentTrack = this.props.tracks[day - 1];\n            return <Day\n                      date={day}\n                      key={day}\n                      track={currentTrack}\n                      toggleDrawer={toggleDrawer}\n                      mode={this.props.mode}\n                    />\n          }\n        })\n      }\n    </div>\n    ))\n  }\n</section>\n{\n  this.props.mode === 'view'\n    ? null\n    : (\n      <div className={classes.container}>\n        <Button\n          variant=\"outlined\"\n          className={classes.button}\n          onClick={\n          () => getRecommendations(this.props.token, this.props.tracks)\n          .then(res => this.props.addRecommendations(res.tracks))\n          }\n        >\n          Recommended autofill\n        </Button>\n        <ShareButton />\n      </div>\n    )\n}\n<div id=\"bottom\" className=\"collectonme\"></div>\n</div>\n);\n  }\n}\n\nconst mapStateToProps = ({ tracks, token }) => ({\n  token,\n  tracks,\n});\n\nexport default connect(mapStateToProps, {addRecommendations})(withStyles(styles)(Calendar));","import React from 'react';\n\nimport Menu from './Menu';\nimport Calendar from './Calendar';\n\nclass SubRoot extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      drawerIsOpen: false,\n      selectedDate: 1,\n    };\n    this.textInput = React.createRef();\n  }\n\n  toggleDrawer = (status, selectedDate) => {\n    console.log(selectedDate);\n    this.setState({\n      drawerIsOpen: status,\n      selectedDate,\n    }, () => { if (status === true && this.textInput.current) this.textInput.current.focus() })\n  };\n  \n  render() {\n    return (\n      <React.Fragment>\n        <div id=\"bg-image\" />\n        <Menu\n          toggleDrawer={(e) => this.toggleDrawer(e)}\n          drawerIsOpen={this.state.drawerIsOpen}\n          inputRef={this.textInput}\n          selectedDate={this.state.selectedDate}\n        />\n        <Calendar\n          toggleDrawer={(status, date) => this.toggleDrawer(status, date)}\n          mode=\"edit\"\n        />\n      </React.Fragment>\n    );\n  }\n}\n\nexport default SubRoot;","import React from 'react';\nimport { connect } from 'react-redux';\n\nimport Calendar from './Calendar';\n\nimport { getMultipleTracks } from '../api/api';\nimport { replaceAllTracks } from '../redux';\n\n//this is for the shared view\nclass ViewRoot extends React.Component {\n\n  componentWillMount() {\n    getMultipleTracks(this.props.token, this.props.trackIds)\n      .then(data => this.props.replaceAllTracks(data.tracks));\n  }\n\n  render() {\n\n    return (\n      <React.Fragment>\n        <div id=\"bg-image\" />\n        <Calendar\n          toggleDrawer={(status, date) => {}}\n          mode=\"view\"\n        />\n      </React.Fragment>\n    );\n  }\n}\n\nconst mapStateToProps = ({ token }) => ({\n  token,\n});\n\nexport default connect(mapStateToProps, { replaceAllTracks })(ViewRoot);","// Get the hash of the url\nconst authorize = () => {\n  const hash = window.location.hash\n  .substring(1)\n  .split('&')\n  .reduce(function (initial, item) {\n    if (item) {\n      var parts = item.split('=');\n      initial[parts[0]] = decodeURIComponent(parts[1]);\n    }\n    return initial;\n  }, {});\n  window.location.hash = '';\n\n  // Set token\n  let _token = hash.access_token || getLocalStorageToken();\n\n  const authEndpoint = 'https://accounts.spotify.com/authorize';\n\n  // Replace with your app's client ID, redirect URI and desired scopes\n  const clientId = 'de8a7d941d164ea4854a21ebaca90c71';\n  const redirectUri = 'http://toftt.github.io/calendar';\n  const scopes = [\n    'user-top-read',\n    'user-modify-playback-state'\n  ];\n\n  const urlParams = new URLSearchParams(window.location.search);\n  const tracks = urlParams.get('tracks');\n  const state = tracks;\n\n\n  // If there is no token, redirect to Spotify authorization\n  if (!_token) {\n    window.location = `${authEndpoint}?client_id=${clientId}&redirect_uri=${redirectUri}&scope=${scopes.join('%20')}&response_type=token&show_dialog=true&state=${state}`;\n  }\n\n  // case 1: user is in view mode and has been redirected from spotify -- tracks are in hash.state (the url hash)\n  // case 2: user is in view mode and has already authorized -- tracks are in tracks (params)\n  // case 3: user is in edit mode and has already authorized -- there are no tracks\n  const hashState = hash.state || tracks || 'null';\n\n  saveTokenInfo(_token, hash.expires_in);\n  return ({ token: _token, hashState});\n}\n\nconst getLocalStorageToken = () => {\n  const token = localStorage.getItem('token');\n  const expirationTime = localStorage.getItem('expirationTime');\n  const now = new Date();\n\n  if (!token || now.getTime() > expirationTime) return undefined;\n  return token;\n};\n\nconst saveTokenInfo = (token, expiresIn) => {\n  localStorage.setItem('token', token);\n  localStorage.setItem('expirationTime', (new Date()).getTime + expiresIn);\n}\n\n\n\nexport default authorize;","import React, { Component } from 'react';\nimport { Provider } from 'react-redux'\nimport { createStore } from 'redux'\nimport { reducer, setToken } from '../redux'\n\nimport SubRoot from './SubRoot';\nimport ViewRoot from './ViewRoot';\n\nimport authorize from '../api/auth';\n\nconst store = createStore(reducer);\nconst { token, hashState } = authorize();\n\nstore.dispatch(setToken(token));\n\nclass Root extends Component {\n  render() {\n    if (hashState !== 'null') {\n      return (\n      <Provider store={store}>\n        <ViewRoot trackIds={hashState.split('_')} />\n      </Provider>\n      );\n    }\n    return (\n      <Provider store={store}>\n        <SubRoot />\n      </Provider>\n    );\n  }\n}\n\nexport default Root;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './global.css';\nimport './css/calendar.scss';\nimport './snow';\n\nimport Root from './components/Root';\n\nReactDOM.render(<Root />, document.getElementById('root'));\n"],"sourceRoot":""}